<template>
    <template if:true={showSpinner}>
        <div class="slds-spinner_container slds-is-relative slds-p-around_medium">
            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </div>
    </template>
    <template if:false={showThankYou}>
        <template if:false={dogFormExists}>
            <div class="slds-align_absolute-center slds-grid slds-wrap slds-m-top_x-large">
                <h1 class = "slds-align_absolute-center slds-text-heading_large slds-col slds-size_12-of-12">{labels.Eins_DogApprovalToggle}</h1>
                <div class="slds-p-around_medium slds-grid slds-wrap">
                    <div if:false={wasFilled}>
                        <button class="slds-button confirm-button slds-col slds-size_12-of-12" onclick={handleToggleChange}>Yes</button>
                        <div class="slds-p-bottom_medium"></div>
                        <button class="slds-button confirm-button slds-col slds-size_12-of-12" onclick={showForm}>No</button>
                    </div>
                    
                    <div class="slds-grid slds-wrap slds-align_absolute-center">
                        <div class="slds-p-around_medium slds-col slds-size_12-of-12" if:true={wasFilled}>
                            <lightning-input
                                class="slds-col slds-size_12-of-12 slds-p-bottom_medium slds-p-top_medium"
                                type="email"
                                label={labels.Eins_DogApprovalEmail}
                                onchange={handleEmaiChange}
                            ></lightning-input>
                            <button class="slds-button confirm-button slds-col slds-size_12-of-12" onclick={submitEmail}>Submit</button>
                            <div if:true={showError} class="slds-col slds-size_12-of-12 slds-text-color_destructive slds-p-bottom_medium slds-p-top_medium">
                                {labels.Eins_DogApprovalNoForm}
                            </div>
                            <lightning-button variant="base" label="Back" onclick={handleBack} class="slds-m-top_x-large slds-col slds-size_12-of-12 slds-align_absolute-center"></lightning-button>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    
        <template if:true={dogFormExists}>
            <div class="slds-p-around_medium">
                <c-dog-approval lang-code={pageLanguageCode} dog-obj-id={dogObjId} ></c-dog-approval>
                <lightning-button variant="base" label="Back" onclick={handleBack} class="slds-m-top_x-large slds-col slds-size_12-of-12 slds-align_absolute-center"></lightning-button>
            </div>
        </template>
    </template>

    <template if:true={showThankYou}>
        <h1 class = "slds-align_absolute-center slds-text-heading_medium slds-m-horizontal_xx-large slds-text-align_center">{labels.Eins_DogApprovalThankYou1}</h1>
        <br/>
        <h1 class = "slds-align_absolute-center slds-text-heading_medium slds-text-align_center slds-m-bottom_xx-large">{labels.Eins_DogApprovalThankYou2}</h1>
    </template>
</template>