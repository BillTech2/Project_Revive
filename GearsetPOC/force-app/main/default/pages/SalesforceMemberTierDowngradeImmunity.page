<apex:page id="SalesforceMemberTierDowngradeImmunity"
			showHeader="true"
			sidebar="true"
			tabStyle="SalesforceMemberTierDowngradeImmunity__x"
			standardController="SalesforceMemberTierDowngradeImmunity__x"
			extensions="SFMemberTierDowngradeImmunityController">

	<apex:sectionHeader title="{!$ObjectType.SalesforceMemberTierDowngradeImmunity__x.Label} Edit"
						subtitle="New {!$ObjectType.SalesforceMemberTierDowngradeImmunity__x.Label}" />
	<c:LoyaltyTierAccessCheck accessedButtonName="Downgrade_immunity">
		<apex:form >
			<apex:pageBlock title="{!$ObjectType.SalesforceMemberTierDowngradeImmunity__x.Label} Edit" mode="edit">
				<apex:pageMessages id="messages"/>
				<apex:pageBlockSection columns="1" >
					<apex:inputField value="{!member.NumberOfRenewals__c}" required="true"/>
					<apex:selectList value="{!selectedTier}" label="Tier" size="1" required="true">
						<apex:selectOptions value="{!tiers}"/>
					</apex:selectList>
					<apex:selectList value="{!selectedReason}" label="Reason" size="1" required="true">
						<apex:selectOptions value="{!reasons}"/>
					</apex:selectList>
					<apex:inputField value="{!member.ReasonText__c}"/>
				</apex:pageBlockSection>
				<apex:pageBlockButtons >
					<apex:commandButton action="{!save}" value=" Save "/>
					<apex:commandButton action="{!SaveAndNew}" value="Save & New"/>
					<apex:commandButton action="{!cancel}" value="Cancel"/>
				</apex:pageBlockButtons>
				<apex:outputPanel id="redirectPanel" >
					<apex:outputText rendered="{!shouldRedirect}">
						<script type="text/javascript">
							window.top.location.href = '{!redirectUrl}';
						</script>
					</apex:outputText>
				</apex:outputPanel>
			</apex:pageBlock>
		</apex:form>
	</c:LoyaltyTierAccessCheck>
</apex:page>