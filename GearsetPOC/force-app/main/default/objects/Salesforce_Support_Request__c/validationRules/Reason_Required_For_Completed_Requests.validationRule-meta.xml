<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Reason_Required_For_Completed_Requests</fullName>
    <active>true</active>
    <description>Makes the Closed Reason field mandatory if request is Closed or Rejected</description>
    <errorConditionFormula>AND(OR(
ISPICKVAL(Status__c,&quot;Closed&quot;),
ISPICKVAL(Status__c,&quot;Rejected&quot;)
)
&amp;&amp;
OR(ISBLANK(TEXT(Closed_Reason__c)),ISBLANK(TEXT(Outcome_Category__c))),
AND( RecordType.Name != &#39;Bug&#39;, RecordType.Name != &#39;Improvement&#39;, RecordType.Name != &#39;Knowledge&#39;))</errorConditionFormula>
    <errorMessage>Please choose a reason and outcome for ticket closure or rejection</errorMessage>
</ValidationRule>
