<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Assign_to_me_multipl</fullName>
    <availability>online</availability>
    <displayType>massActionButton</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Assign to me</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <requireRowSelection>true</requireRowSelection>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/16.0/connection.js&quot;)}

var records = {!GETRECORDIDS($ObjectType.Staff_and_duty_travel__c)};
var newRecords = [];

if(records.length&lt;1) {
 alert(&quot;Please select at least one record.&quot;);
} 
else {
 try {
  for (var n=0; n&lt;records.length; n++){
   var sdt = new sforce.SObject(&quot;Staff_and_duty_travel__c&quot;);
   sdt.id = records[n];
   sdt.Status__c = &#39;Open&#39;;
   sdt.OwnerId = &quot;{!$User.Id}&quot;; 
   newRecords.push(sdt);
  }
  result = sforce.connection.update(newRecords);
  window.location.reload();
  if (!result[0].getBoolean(&quot;success&quot;)) {
   alert(&quot;Failed to update Record&quot; + result[0]);
  }
 }
 catch (e) {
  alert(e);
 }
}</url>
</WebLink>
