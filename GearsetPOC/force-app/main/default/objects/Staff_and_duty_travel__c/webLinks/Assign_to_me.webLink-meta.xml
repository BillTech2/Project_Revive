<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Assign_to_me</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Assign to me</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)}

try{
    var staffAndDutyTravelToUpdate = new sforce.SObject(&quot;Staff_and_duty_travel__c&quot;);

    staffAndDutyTravelToUpdate.Id = &quot;{!Staff_and_duty_travel__c.Id}&quot;;
    staffAndDutyTravelToUpdate.Status__c = &#39;Open&#39;;
    staffAndDutyTravelToUpdate.OwnerId = &quot;{!$User.Id}&quot;;

    var result = sforce.connection.update([staffAndDutyTravelToUpdate]);

    if(result[0].success == &quot;true&quot;){
        location.reload();
    }
    else{
        alert(
            &quot;An Error has Occurred. Error: &quot; + 
            result[0].errors.message
        );
    }
}
catch(e){
    alert(
        &quot;An Error has Occurred. Error: &quot; + 
        e
    );
}</url>
</WebLink>
